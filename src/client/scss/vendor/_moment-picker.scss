/*! Angular Moment Picker - v0.9.7 - http://indrimuska.github.io/angular-moment-picker - (c) 2015 Indri Muska - MIT */

.moment-picker {

  position: relative;
  display: block;

  .moment-picker-input {
    cursor: pointer;
  }

  .moment-picker-container {
    color: $text-color;
    min-width: 15em;
    width: 100%;
    background: #fff;
    padding: 4px;
    position: absolute;
    top: 100%;
    z-index: 5;
  }

  &.left .moment-picker-container {
    right: 0;
    margin-left: auto;
    margin-right: -0.5em;
  }

  &.left .moment-picker-container:before,
  &.left .moment-picker-container:after {
    left: auto;
    right: 15px;
  }

  &.left .moment-picker-container:after {
    margin-left: auto;
    margin-right: 1px;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
    min-width: 100%;
    table-layout: fixed;
  }

  th {
    font-weight: bold;
  }

  th:first-child,
  th:last-child {
    width: 2em;
  }

  .moment-picker-specific-views {
    th {
      width: 14.285%;
    }
  }

  th,
  td {
    padding: 0;
    text-align: center;
    min-width: 2em;
    height: 2em;
    text-shadow: none;
    cursor: pointer;
    -webkit-border-radius: 4px;
       -moz-border-radius: 4px;
            border-radius: 4px;
  }

  td {
    position: relative;
  }

  td:hover {
    background-color: lighten($brand-secondary, 30.0%);
    //border-radius: 100%;
  }

  td:not(.disabled):not(.selected) {
    $outerBorderWidth: 2px;
    $innerBorderWidth: 2px;

    // As is often the case, some devices/browsers need additional code to get CSS to work
    // in the most desired way. These mixins are used to quickly drop in hacks for each element
    @mixin hideTapHighlightColor() {
      // Prevent highlight colour when element is tapped
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }

    @mixin hardwareAccel() {
      // Improve performance on mobile/tablet devices
      transform: translateZ(0);
    }

    @mixin improveAntiAlias() {
      //Improve aliasing on mobile/tablet devices
      box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    }

    @include hideTapHighlightColor();
    @include hardwareAccel();
    @include improveAntiAlias();
    z-index: 2;

    &:before {
      content: '';
      position: absolute;
      border: $gray-lighter solid $outerBorderWidth;
      top: -($outerBorderWidth + $innerBorderWidth) * 2;
      right: -($outerBorderWidth + $innerBorderWidth) * 2;
      bottom: -($outerBorderWidth + $innerBorderWidth) * 2;
      left: -($outerBorderWidth + $innerBorderWidth) * 2;
      opacity: 0;
      transition-duration: .25s;
      transition-property: top right bottom left;
      border-radius: 4px;
    }

    &:hover {
      &:before {
        top: -($outerBorderWidth + $innerBorderWidth);
        right: -($outerBorderWidth + $innerBorderWidth);
        bottom: -($outerBorderWidth + $innerBorderWidth);
        left: -($outerBorderWidth + $innerBorderWidth);
        opacity: 1;
      }
    }
  }

  th.disabled,
  td.disabled,
  th.disabled:hover,
  td.disabled:hover {
    color: $gray-lighter;
    background: none;
    cursor: default;
  }

  td {
    width: 2em;
    height: 2em;
  }

  td.today {
    &::before,
    &::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        border-color: transparent;
        border-style: solid;
    }

    &::before {
        border-width: 0.5625em;
        border-right-color: #ccc;
        border-top-color: #ccc;
    }

    &::after {
        border-radius: 0.15em;
        border-width: 0.51em;
        border-right-color: red;
        border-top-color: red;
    }
  }

  td.selected {
    color: #fff;
    text-shadow: none;
    background: $brand-secondary;
    //border-radius: 100%;
  }

  td.highlighted {
    background-image: -webkit-radial-gradient(transparent, rgba(0, 0, 0, 0.15));
    background-image: -moz-radial-gradient(transparent, rgba(0, 0, 0, 0.15));
    background-image: -o-radial-gradient(transparent, rgba(0, 0, 0, 0.15));
    background-image: radial-gradient(transparent, rgba(0, 0, 0, 0.15));
  }

  .decade-view td,
  .year-view td {
    height: 3.4em;
  }

  .month-view .moment-picker-specific-views th {
    background: none;
    cursor: default;
  }

  .day-view td,
  .hour-view td {
    height: 2.3333333333em;
  }

  .minute-view td {
    height: 1.8em;
  }

}

